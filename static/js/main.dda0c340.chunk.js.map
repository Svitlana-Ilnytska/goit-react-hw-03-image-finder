{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleNameChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","toast","props","onSubmit","this","className","css","searchbar","form","type","button","buttonLabel","input","placeholder","name","onChange","Component","ImageGalleryItem","webformatURL","tags","onClickImage","src","alt","onClick","image","defaultProps","ImageGallery","images","imageGallery","map","imageGalleryItem","largeImageURL","id","Spiner","spiner","color","height","width","timeout","Button","onSearch","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","fetchImages","page","fetch","process","then","response","ok","json","Error","statusText","App","status","error","showModal","onSearchQuery","api","hits","prevState","catch","handleFormSubmit","toggleModal","handleClickImage","prevProps","scrollTo","top","body","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dda0c340.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__146Iv\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__3necw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__FGNAT\",\"modal\":\"Modal_modal__45zXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__2bWUa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spiner\":\"Loader_spiner__1DOGy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3YnYt\"};","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport css from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleNameChange = (e) => {\r\n    this.setState({ query: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === \"\") {\r\n      return toast(\"Please enter something;)\");\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={css.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={css.form}>\r\n          <button type=\"submit\" className={css.button}>\r\n            <span className={css.buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={css.input}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            name=\"query\"\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags, onClickImage }) => (\r\n  <img\r\n    src={webformatURL}\r\n    alt={tags}\r\n    onClick={onClickImage}\r\n    className={css.image}\r\n  />\r\n);\r\n\r\nImageGalleryItem.defaultProps = {\r\n  tags: \"\",\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nimport css from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, onClickImage }) => (\r\n  <ul className={css.imageGallery}>\r\n    {images.map((image) => {\r\n      return (\r\n        <li key={image.id} className={css.imageGalleryItem}>\r\n          <ImageGalleryItem\r\n            webformatURL={image.webformatURL}\r\n            largeImageURL={image.largeImageURL}\r\n            tags={image.tags}\r\n            onClickImage={() => onClickImage(image.largeImageURL)}\r\n          />\r\n        </li>\r\n      );\r\n    })}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string,\r\n    }).isRequired\r\n  ).isRequired,\r\n  onClickImage: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport css from './Loader.module.css';\r\n\r\nexport default class Spiner extends Component {\r\n  render() {\r\n    return (\r\n      <div className={css.spiner}>\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000} \r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport css from \"./Button.module.css\";\r\n\r\nconst Button = ({ onSearch }) => (\r\n  <button type=\"button\" onClick={onSearch} className={css.button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onLoadMore: () => {},\r\n};\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport css from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={css.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={css.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","const key = process.env.REACT_APP_API_KEY;\r\nconst BASE_URL = \"https://pixabay.com\";\r\n\r\nexport function fetchImages(query, page) {\r\n  return fetch(\r\n    `${BASE_URL}/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${key}`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    throw new Error(response.statusText);\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Spiner from \"./components/Loader/Loader\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport * as api from \"./services/api\";\n\nimport \"./App.css\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    query: \"\",\n    page: 1,\n    status: \"idle\",\n    error: null,\n    largeImageURL: \"\",\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n    if (prevPage !== nextPage) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n  onSearchQuery = (query) => {\n    this.setState({\n      images: [],\n      query: query,\n      page: 1,\n    });\n  };\n\n  fetchImages = () => {\n    this.setState({ status: \"pending\" });\n    const { query, page } = this.state;\n\n    api\n      .fetchImages(query, page)\n      .then(({ hits }) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n          status: \"resolved\",\n        }))\n      )\n\n      .catch((error) =>\n        this.setState(toast(\"Trouble. Something is wrong :(\"), {\n          error,\n          status: \"rejected\",\n        })\n      );\n  };\n\n  handleFormSubmit = (images) => {\n    this.setState({ images });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImageURL: \"\",\n    }));\n  };\n\n  handleClickImage = (largeImageURL) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      showModal: true,\n    });\n  };\n\n  render() {\n    const { images, status, showModal, largeImageURL } = this.state;\n\n    if (status === \"idle\") {\n      return <Searchbar onSubmit={this.onSearchQuery} />;\n    }\n\n    if (status === \"pending\") {\n      return <Spiner />;\n    }\n\n    if (status === \"rejected\") {\n      return <p> Please try again latter </p>;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <div>\n          <Searchbar onSubmit={this.onSearchQuery} />\n          <ImageGallery images={images} onClickImage={this.handleClickImage} />\n          {images.length < 1 && (\n            <p className=\"notification\"> Nothing found :( </p>\n          )}\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={largeImageURL} alt=\"\" />\n            </Modal>\n          )}\n          {images.length >= 12 ? <Button onSearch={this.fetchImages} /> : null}\n          <ToastContainer />\n        </div>\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1JMwN\",\"form\":\"Searchbar_form__PNgzs\",\"button\":\"Searchbar_button__wO18X\",\"buttonLabel\":\"Searchbar_buttonLabel__3zZ1O\",\"input\":\"Searchbar_input__2DWJH\"};"],"sourceRoot":""}